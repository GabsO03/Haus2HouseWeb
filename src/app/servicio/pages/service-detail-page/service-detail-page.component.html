<ng-template #cargando>
  <shared-loading></shared-loading>
</ng-template>

<div *ngIf="!isLoading && service; else cargando" class="bg-gray-100 min-h-screen flex items-center justify-center px-4">
  <div class="max-w-4xl bg-white w-full rounded-lg shadow-xl">
    <div class="p-4 border-b">
      <h2 class="text-2xl font-quicksand text-teal-700">
        Detalles del Servicio
      </h2>
      <p class="text-sm text-gray-500">
        Informaci贸n del servicio solicitado.
      </p>
    </div>
    <div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Cliente
        </p>
        <p>
          <a href="customer/{{service.client!.user!.id}}">{{ service.client!.user!.nombre || 'Desconocido' }}</a>
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Trabajador
        </p>
        <p>
          <a href="helper/{{service.worker!.user!.id}}">{{ service.worker!.user!.nombre || 'Desconocido' }}</a>
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Tipo de Servicio
        </p>
        <p>
          {{ service.service_type!.name || 'Desconocido' }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Fecha de Inicio
        </p>
        <p>
          {{ service.start_time | dateFormat }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Fecha de Fin
        </p>
        <p>
          {{ service.end_time | dateFormat }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Estado
        </p>
        <p>
          {{ service.status | estado }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Monto Total
        </p>
        <p>
          $ {{ service.total_amount }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Ubicaci贸n del Cliente
        </p>
        <p>
          {{ service.client_location || 'No especificada' }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b">
        <p class="text-gray-600">
          Descripci贸n
        </p>
        <p>
          {{ service.description || 'Sin descripci贸n' }}
        </p>
      </div>
      <div class="md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4">
        <p class="text-gray-600">
          Especificaciones
        </p>
        <p>
          {{ service.specifications || 'Sin especificaciones' }}
        </p>
      </div>
    </div>
    <div class="p-4 flex gap-2">
      <button class="button my-bg-teal text-white" (click)="goBack()">
        Volver
      </button>
      <button class="button my-bg-teal text-white" (click)="acceptService()">
        Aceptar
      </button>
      <button class="button my-bg-teal text-white" (click)="rejectService()">
        Rechazar
      </button>
      <button class="button my-bg-teal text-white" (click)="cancelService()">
        Cancelar
      </button>
    </div>
  </div>
</div>